#%Module1.0
##
## NWChem MPICH Modulefile
##

proc ModulesHelp { } {
    puts stderr "This module sets up NWChem built with MPICH."
}

module-whatis "NWChem MPICH environment"

# Ensure no conflicting MPI is loaded
if {[module-info mode load]} {
    module unload mpi/openmpi-x86_64
}

# Load required MPI module
module load mpi/mpich-x86_64

# Set root directory
set nwchemroot /opt/codes/nwchem/nwchem_mpich

# Set environment variables
setenv NWCHEM_TOP $nwchemroot
setenv NWCHEM_TARGET "Linux64-mpich"

# Update PATH and LD_LIBRARY_PATH
prepend-path PATH $nwchemroot/bin
prepend-path LD_LIBRARY_PATH $nwchemroot/lib

